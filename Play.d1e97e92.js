function e(e){Object.defineProperty(e,"__esModule",{value:!0,configurable:!0})}function t(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}var r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequired8b0;r.register("hjSAt",(function(n,o){let i;e(n.exports),t(n.exports,"default",(()=>s));i=r("3BrXx"),i.__esModule&&(i=i.default),i.render=r("aAcTQ").render,i.__cssModules={},r("95BcD").default(i),i.__scopeId="data-v-324739",i.__file="Play.vue";var s=i})),r.register("3BrXx",(function(o,i){e(o.exports),t(o.exports,"default",(()=>p));var s=r("ecd4d"),c=r("jgDES"),a=r("1Za3e"),l=r("4t2Ub"),d=r("5y14U"),u=r("cM403"),h=r("7TFX2");const f=new Audio(new URL(r("iRxtk")).toString());var p=s.defineComponent({components:{Header:a.default},setup(){const e=c.useStore();return e.state.history=[],{wordSet:s.computed((()=>e.state.wordSet)),tmi:s.computed((()=>e.state.tmi)),history:s.computed((()=>e.state.history)),store:e,showChat:s.computed((()=>e.state.showChat)),popupConnected:s.computed((()=>e.state.popupConnected))}},computed:{currentWord(){const e=this;return e.wordSet?e.wordSet[e.currentTurn]:null}},data:()=>({currentTurn:0,ready:!1,matchedUser:null,hintLevel:0,isAnswerVisible:!1,chat:[],shownChars:[]}),mounted(){if(!this.wordSet)return l.createToast("단어 데이터가 설정되지 않았습니다.",{type:"danger"}),void this.$router.push("/");this.tmi.on("message",this.onChat),this.ready=!0,h.getPopupWindow()?.dispatchEvent(new CustomEvent("state_changed",{detail:{action:"set_word",value:this.currentWord}})),u.event("game_start",{channel:this.tmi.getChannels()[0]})},beforeUnmount(){h.getPopupWindow()?.dispatchEvent(new CustomEvent("state_changed",{detail:{action:"end"}}));const e=window;e.onPopupConnected=null,e.onNextWord=null,this.tmi.removeListener("message",this.onChat),u.event("game_end",{channel:this.tmi.getChannels()[0]})},created(){const e=window;e.onPopupConnected=()=>{h.getPopupWindow()?.dispatchEvent(new CustomEvent("state_changed",{detail:{action:"set_word",value:this.currentWord}}))},e.onNextWord=()=>{this.isAnswerVisible||this.matchedUser?this.nextWord():this.showAnswer()}},methods:{onChat(e,t,r){const o=(e=!1)=>{let o;if(e&&this.store.state.showPercentageInChat&&this.currentWord&&this.currentWord.word.length===r.length){let e=0,t=0;for(let o=0;o<this.currentWord.word.length;o++){const i=this.currentWord.word[o],s=n(d).d(i);e+=s.length;const c=n(d).d(r[o]);t+=s.filter(((e,t)=>c[t]===e)).length}o=Math.floor(t/e*100)}this.chat.push({chat:r,state:t,percentage:o}),this.chat.length>10&&this.chat.shift()};if(this.matchedUser||this.isAnswerVisible)return o();if(this.currentWord.word===r){const e=t["display-name"]??t.username;return this.matchedUser={username:e},f.play(),this.chat.push({chat:r,state:t,correct:!0}),this.chat.length>10&&this.chat.shift(),this.history.push({user:e,word:this.currentWord.word}),void h.getPopupWindow()?.dispatchEvent(new CustomEvent("state_changed",{detail:{action:"set_answer_visible",value:!0}}))}o(!0)},getChosung:e=>n(d).disassemble(e)[0],nextWord(){this.wordSet.length-1!==this.currentTurn?(this.shownChars=[],this.matchedUser=null,this.hintLevel=0,this.isAnswerVisible=!1,this.currentTurn++,h.getPopupWindow()?.dispatchEvent(new CustomEvent("state_changed",{detail:{action:"set_answer_visible",value:!1}})),h.getPopupWindow()?.dispatchEvent(new CustomEvent("state_changed",{detail:{action:"set_word",value:this.currentWord}}))):this.$router.push("/result")},setShowHint(){this.hintLevel+=1},showAnswer(){this.history.push({user:null,word:this.currentWord.word}),this.hintLevel=2,this.isAnswerVisible=!0,h.getPopupWindow()?.dispatchEvent(new CustomEvent("state_changed",{detail:{action:"set_answer_visible",value:!0}}))},showChar(e){this.shownChars.includes(e)||(this.shownChars.push(e),this.shownChars.length===this.currentWord.word.length&&this.showAnswer())}}})})),r.register("5y14U",(function(e,t){!function(){var t,n,r,o,i,s,c=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],a=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ",["ㅗ","ㅏ"],["ㅗ","ㅐ"],["ㅗ","ㅣ"],"ㅛ","ㅜ",["ㅜ","ㅓ"],["ㅜ","ㅔ"],["ㅜ","ㅣ"],"ㅠ","ㅡ",["ㅡ","ㅣ"],"ㅣ"],l=["","ㄱ","ㄲ",["ㄱ","ㅅ"],"ㄴ",["ㄴ","ㅈ"],["ㄴ","ㅎ"],"ㄷ","ㄹ",["ㄹ","ㄱ"],["ㄹ","ㅁ"],["ㄹ","ㅂ"],["ㄹ","ㅅ"],["ㄹ","ㅌ"],["ㄹ","ㅍ"],["ㄹ","ㅎ"],"ㅁ","ㅂ",["ㅂ","ㅅ"],"ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],d=44032;function u(e){for(var t=e.length,n={0:0},r=0;r<t;r++)e[r]&&(n[e[r].charCodeAt(0)]=r);return n}function h(e){for(var t,n,r=e.length,o={},i=0;i<r;i++)t=e[i][0].charCodeAt(0),n=e[i][1].charCodeAt(0),void 0===o[t]&&(o[t]={}),o[t][n]=e[i][2].charCodeAt(0);return o}function f(e){return void 0!==t[e]}function p(e){return void 0!==n[e]}function g(e){return void 0!==r[e]}function m(e){return void 0!==o[e]}function v(e){return 44032<=e&&e<=55203}function w(e,t){return!(!s[e]||!s[e][t])&&s[e][t]}function C(e,t){return!(!i[e]||!i[e][t])&&i[e][t]}t=u(["ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄸ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅃ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"]),n=u(["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"]),r=u(["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"]),o=u(["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"]),i=h([["ㄱ","ㅅ","ㄳ"],["ㄴ","ㅈ","ㄵ"],["ㄴ","ㅎ","ㄶ"],["ㄹ","ㄱ","ㄺ"],["ㄹ","ㅁ","ㄻ"],["ㄹ","ㅂ","ㄼ"],["ㄹ","ㅅ","ㄽ"],["ㄹ","ㅌ","ㄾ"],["ㄹ","ㅍ","ㄿ"],["ㄹ","ㅎ","ㅀ"],["ㅂ","ㅅ","ㅄ"]]),s=h([["ㅗ","ㅏ","ㅘ"],["ㅗ","ㅐ","ㅙ"],["ㅗ","ㅣ","ㅚ"],["ㅜ","ㅓ","ㅝ"],["ㅜ","ㅔ","ㅞ"],["ㅜ","ㅣ","ㅟ"],["ㅡ","ㅣ","ㅢ"]]);var y=function(e,t){if(null===e)throw new Error("Arguments cannot be null");"object"==typeof e&&(e=e.join(""));for(var i,s,u,h,m,w=[],C=e.length,y=0;y<C;y++){var x=[];v(h=e.charCodeAt(y))?(s=((h-=d)-(u=h%28))/28%21,i=parseInt((h-u)/28/21),x.push(c[i]),"object"==typeof a[s]?x=x.concat(a[s]):x.push(a[s]),u>0&&("object"==typeof l[u]?x=x.concat(l[u]):x.push(l[u]))):f(h)?"string"==typeof(m=p(h)?c[n[h]]:l[o[h]])?x.push(m):x=x.concat(m):g(h)?"string"==typeof(m=a[r[h]])?x.push(m):x=x.concat(m):x.push(e.charAt(y)),t?w.push(x):w=w.concat(x)}return w},x=function(e){return"string"!=typeof e?"":(e=y(e)).join("")},b=function(e){"string"==typeof e&&(e=y(e));var t,i,s=[],c=e.length,a=0,l=-1,u=!1;function h(t){var i,c,a,h,f=0,m="";if(u=!1,!(l+1>t))for(var v=1;;v++){if(1===v){if(g(i=e[l+v].charCodeAt(0)))return l+v+1<=t&&g(c=e[l+v+1].charCodeAt(0))?(s.push(String.fromCharCode(w(i,c))),void(l=t)):(s.push(e[l+v]),void(l=t));if(!p(i))return s.push(e[l+v]),void(l=t);m=e[l+v]}else if(2===v){if(p(c=e[l+v].charCodeAt(0)))return i=C(i,c),m=String.fromCharCode(i),s.push(m),void(l=t);m=String.fromCharCode(28*(21*n[i]+r[c])+d)}else 3===v?(w(c,a=e[l+v].charCodeAt(0))?c=w(c,a):f=a,m=String.fromCharCode(28*(21*n[i]+r[c])+o[f]+d)):4===v?(f=C(f,h=e[l+v].charCodeAt(0))?C(f,h):h,m=String.fromCharCode(28*(21*n[i]+r[c])+o[f]+d)):5===v&&(f=C(f,h=e[l+v].charCodeAt(0)),m=String.fromCharCode(28*(21*n[i]+r[c])+o[f]+d));if(l+v>=t)return s.push(m),void(l=t)}}for(var f=0;f<c;f++)p(t=e[f].charCodeAt(0))||g(t)||m(t)?(0===a?p(t)?a=1:g(t)&&(a=4):1==a?g(t)?a=2:C(i,t)?a=5:h(f-1):2==a?m(t)?a=3:g(t)?w(i,t)||(h(f-1),a=4):(h(f-1),a=1):3==a?m(t)?!u&&C(i,t)?u=!0:(h(f-1),a=1):p(t)?(h(f-1),a=1):g(t)&&(h(f-2),a=2):4==a?g(t)?w(i,t)?(h(f),a=0):h(f-1):(h(f-1),a=1):5==a&&(g(t)?(h(f-2),a=2):(h(f-1),a=1)),i=t):(h(f-1),h(f),a=0);return h(f-1),s.join("")};function k(e){this.string=e,this.disassembled=y(e).join("")}k.prototype.search=function(e){return y(e).join("").indexOf(this.disassembled)};var A={disassemble:y,d:y,disassembleToString:x,ds:x,assemble:b,a:b,search:function(e,t){var n=y(e).join(""),r=y(t).join("");return n.indexOf(r)},rangeSearch:function(e,t){var n,r=y(e).join(""),o=y(t).join(""),i=y(e,!0),s=new RegExp(o,"gi"),c=[];if(!t.length)return[];for(;n=s.exec(r);)c.push(n.index);function a(e){for(var t=0,n=0;t<i.length;++t)if(e<(n+=i[t].length))return t}function l(e){for(var t=0,n=0;t<i.length;++t)if(n+=i[t].length,e+o.length<=n)return t}return c.map((function(e){return[a(e),l(e)]}))},Searcher:k,endsWithConsonant:function(e){"object"==typeof e&&(e=e.join(""));var t=e.charCodeAt(e.length-1);if(v(t)){if((t-=d)%28>0)return!0}else if(f(t))return!0;return!1},endsWith:function(e,t){return y(e).pop()===t},isHangul:function(e){return"string"==typeof e&&(e=e.charCodeAt(0)),v(e)},isComplete:function(e){return"string"==typeof e&&(e=e.charCodeAt(0)),v(e)},isConsonant:function(e){return"string"==typeof e&&(e=e.charCodeAt(0)),f(e)},isVowel:function(e){return"string"==typeof e&&(e=e.charCodeAt(0)),g(e)},isCho:function(e){return"string"==typeof e&&(e=e.charCodeAt(0)),p(e)},isJong:function(e){return"string"==typeof e&&(e=e.charCodeAt(0)),m(e)},isHangulAll:function(e){if("string"!=typeof e)return!1;for(var t=0;t<e.length;t++)if(!v(e.charCodeAt(t)))return!1;return!0},isCompleteAll:function(e){if("string"!=typeof e)return!1;for(var t=0;t<e.length;t++)if(!v(e.charCodeAt(t)))return!1;return!0},isConsonantAll:function(e){if("string"!=typeof e)return!1;for(var t=0;t<e.length;t++)if(!f(e.charCodeAt(t)))return!1;return!0},isVowelAll:function(e){if("string"!=typeof e)return!1;for(var t=0;t<e.length;t++)if(!g(e.charCodeAt(t)))return!1;return!0},isChoAll:function(e){if("string"!=typeof e)return!1;for(var t=0;t<e.length;t++)if(!p(e.charCodeAt(t)))return!1;return!0},isJongAll:function(e){if("string"!=typeof e)return!1;for(var t=0;t<e.length;t++)if(!m(e.charCodeAt(t)))return!1;return!0}};"function"==typeof define&&define.amd?define((function(){return A})):e.exports=A}()})),r.register("iRxtk",(function(e,t){e.exports=new URL(r("27Lyk").resolve("34zlx"),import.meta.url).toString()})),r.register("aAcTQ",(function(e,n){t(e.exports,"render",(()=>x));var o=r("ecd4d");const i={class:"flex flex-col h-screen"},s={key:0,class:"flex flex-grow flex-col items-center mt-16 relative"},c={key:0,class:"chat"},a={key:0},l={class:"text-6xl font-black"},d={class:"flex mt-8 border-2 border-black"},u=["onClick"],h={key:1,class:"mt-8 text-4xl font-bold text-center"},f={key:2,class:"mt-8 text-4xl font-bold text-center"},p={key:4,class:"fixed left-0 top-0 w-full h-full flex justify-center items-center bg-black bg-opacity-50"},g={class:"p-8 bg-white flex flex-col items-center",style:{"min-width":"500px"}},m={class:"text-4xl"},v={class:"text-center text-6xl mt-8 font-bold"},w={class:"text-center text-3xl"},C=(e=>(o.pushScopeId("data-v-324739"),e=e(),o.popScopeId(),e))((()=>o.createElementVNode("div",{class:"flex-grow"},null,-1))),y={key:5,class:"flex w-full justify-end p-4"};function x(e,t){const n=o.resolveComponent("Header");return o.openBlock(),o.createElementBlock("div",i,[o.createVNode(n),e.ready?(o.openBlock(),o.createElementBlock("div",s,[e.showChat?(o.openBlock(),o.createElementBlock("div",c,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(e.chat,(e=>(o.openBlock(),o.createElementBlock("div",{class:o.normalizeClass({correct:e.correct,item:!0})},[void 0!==e.percentage?(o.openBlock(),o.createElementBlock("span",a,o.toDisplayString(e.percentage)+"%",1)):o.createCommentVNode("",!0),o.createElementVNode("span",null,o.toDisplayString(e.state["display-name"]??e.state.username),1),o.createElementVNode("span",null,o.toDisplayString(e.chat),1)],2)))),256))])):o.createCommentVNode("",!0),o.createElementVNode("div",l,o.toDisplayString(e.currentTurn+1)+" / "+o.toDisplayString(e.wordSet.length)+" 라운드 ",1),o.createElementVNode("div",d,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(Object.entries(e.currentWord.word.split("")),(([t,n])=>(o.openBlock(),o.createElementBlock("div",{class:"border border-4 border-black w-32 h-32 flex font-bold items-center justify-center text-8xl cursor-pointer",onClick:n=>e.showChar(parseInt(t))},o.toDisplayString(e.isAnswerVisible||e.shownChars.includes(parseInt(t))?n:e.getChosung(n)),9,u)))),256))]),e.hintLevel>=1?(o.openBlock(),o.createElementBlock("div",h,o.toDisplayString(e.currentWord.category?`주제: ${e.currentWord.category}`:e.currentWord.hint),1)):o.createCommentVNode("",!0),e.currentWord.category&&e.hintLevel>=2?(o.openBlock(),o.createElementBlock("div",f,o.toDisplayString(e.currentWord.hint),1)):o.createCommentVNode("",!0),(e.currentWord.category?e.hintLevel<=1:e.hintLevel<=0)?(o.openBlock(),o.createElementBlock("div",{key:3,onClick:t[0]||(t[0]=(...t)=>e.setShowHint&&e.setShowHint(...t)),class:"mt-8 text-3xl cursor-pointer"}," 클릭해서 힌트 보기 ")):o.createCommentVNode("",!0),e.matchedUser?(o.openBlock(),o.createElementBlock("div",p,[o.createElementVNode("div",g,[o.createElementVNode("div",m,o.toDisplayString(e.matchedUser.username)+" 정답!",1),o.createElementVNode("div",v,o.toDisplayString(e.currentWord.word),1),o.createElementVNode("div",w,o.toDisplayString(e.currentWord.hint),1),e.popupConnected?o.createCommentVNode("",!0):(o.openBlock(),o.createElementBlock("div",{key:0,class:"border-2 text-center p-4 text-2xl mt-8 w-full cursor-pointer",onClick:t[1]||(t[1]=(...t)=>e.nextWord&&e.nextWord(...t))},o.toDisplayString(e.currentTurn+1===e.wordSet.length?"결과 보기":"다음"),1))])])):o.createCommentVNode("",!0),C,e.popupConnected?o.createCommentVNode("",!0):(o.openBlock(),o.createElementBlock("div",y,[e.isAnswerVisible?(o.openBlock(),o.createElementBlock("div",{key:1,onClick:t[3]||(t[3]=(...t)=>e.nextWord&&e.nextWord(...t)),class:"bg-green-500 text-white py-4 px-6 rounded-lg cursor-pointer hover:brightness-90 transition-all active:brightness-75"},o.toDisplayString(e.currentTurn+1===e.wordSet.length?"결과 보기":"다음"),1)):(o.openBlock(),o.createElementBlock("div",{key:0,onClick:t[2]||(t[2]=(...t)=>e.showAnswer&&e.showAnswer(...t)),class:"bg-red-500 text-white py-4 px-6 rounded-lg cursor-pointer hover:brightness-90 transition-all active:brightness-75"}," 정답 보기 "))]))])):o.createCommentVNode("",!0)])}})),r.register("95BcD",(function(e,n){t(e.exports,"default",(()=>r));var r=e=>{}}));
//# sourceMappingURL=Play.d1e97e92.js.map
