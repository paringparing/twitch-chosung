function e(e){Object.defineProperty(e,"__esModule",{value:!0,configurable:!0})}function t(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function r(e){return e&&e.__esModule?e.default:e}var n=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequired8b0;n.register("hjSAt",(function(r,o){let i;e(r.exports),t(r.exports,"default",(()=>s));i=n("3BrXx"),i.__esModule&&(i=i.default),i.render=n("aAcTQ").render,i.__cssModules={},n("95BcD").default(i),i.__scopeId="data-v-324739",i.__file="Play.vue";var s=i})),n.register("3BrXx",(function(o,i){e(o.exports),t(o.exports,"default",(()=>f));var s=n("ecd4d"),c=n("jgDES"),l=n("1Za3e"),a=n("4t2Ub"),u=n("5y14U"),h=n("cM403");const d=new Audio(new URL(n("iRxtk")).toString());var f=s.defineComponent({components:{Header:l.default},setup(){const e=c.useStore();return e.state.history=[],{wordSet:s.computed((()=>e.state.wordSet)),tmi:s.computed((()=>e.state.tmi)),history:s.computed((()=>e.state.history)),store:e,showChat:s.computed((()=>e.state.showChat))}},computed:{currentWord(){return this.wordSet[this.currentTurn]}},data:()=>({currentTurn:0,ready:!1,matchedUser:null,hintLevel:0,isAnswerVisible:!1,chat:[],shownChars:[]}),mounted(){if(!this.wordSet)return a.createToast("단어 데이터가 설정되지 않았습니다.",{type:"danger"}),void this.$router.push("/");this.tmi.on("message",this.onChat),this.ready=!0,h.event("game_start",{channel:this.tmi.getChannels()[0]})},unmounted(){this.tmi.removeListener("message",this.onChat),h.event("game_end",{channel:this.tmi.getChannels()[0]})},methods:{onChat(e,t,r){const n=()=>{this.chat.push({chat:r,state:t}),this.chat.length>10&&this.chat.shift()};if(this.matchedUser||this.isAnswerVisible)return n();if(this.currentWord.word===r){const e=t["display-name"]??t.username;return this.matchedUser={username:e},d.play(),this.chat.push({chat:r,state:t,correct:!0}),this.chat.length>10&&this.chat.shift(),void this.history.push({user:e,word:this.currentWord.word})}n()},getChosung:e=>r(u).disassemble(e)[0],nextWord(){this.wordSet.length-1!==this.currentTurn?(this.shownChars=[],this.matchedUser=null,this.hintLevel=0,this.isAnswerVisible=!1,this.currentTurn++):this.$router.push("/result")},setShowHint(){this.hintLevel+=1},showAnswer(){this.history.push({user:null,word:this.currentWord.word}),this.hintLevel=2,this.isAnswerVisible=!0},showChar(e){this.shownChars.includes(e)||(this.shownChars.push(e),this.shownChars.length===this.currentWord.word.length&&this.showAnswer())}}})})),n.register("5y14U",(function(e,t){!function(){var t,r,n,o,i,s,c=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],l=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ",["ㅗ","ㅏ"],["ㅗ","ㅐ"],["ㅗ","ㅣ"],"ㅛ","ㅜ",["ㅜ","ㅓ"],["ㅜ","ㅔ"],["ㅜ","ㅣ"],"ㅠ","ㅡ",["ㅡ","ㅣ"],"ㅣ"],a=["","ㄱ","ㄲ",["ㄱ","ㅅ"],"ㄴ",["ㄴ","ㅈ"],["ㄴ","ㅎ"],"ㄷ","ㄹ",["ㄹ","ㄱ"],["ㄹ","ㅁ"],["ㄹ","ㅂ"],["ㄹ","ㅅ"],["ㄹ","ㅌ"],["ㄹ","ㅍ"],["ㄹ","ㅎ"],"ㅁ","ㅂ",["ㅂ","ㅅ"],"ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],u=44032;function h(e){for(var t=e.length,r={0:0},n=0;n<t;n++)e[n]&&(r[e[n].charCodeAt(0)]=n);return r}function d(e){for(var t,r,n=e.length,o={},i=0;i<n;i++)t=e[i][0].charCodeAt(0),r=e[i][1].charCodeAt(0),void 0===o[t]&&(o[t]={}),o[t][r]=e[i][2].charCodeAt(0);return o}function f(e){return void 0!==t[e]}function p(e){return void 0!==r[e]}function g(e){return void 0!==n[e]}function m(e){return void 0!==o[e]}function v(e){return 44032<=e&&e<=55203}function C(e,t){return!(!s[e]||!s[e][t])&&s[e][t]}function y(e,t){return!(!i[e]||!i[e][t])&&i[e][t]}t=h(["ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄸ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅃ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"]),r=h(["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"]),n=h(["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"]),o=h(["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"]),i=d([["ㄱ","ㅅ","ㄳ"],["ㄴ","ㅈ","ㄵ"],["ㄴ","ㅎ","ㄶ"],["ㄹ","ㄱ","ㄺ"],["ㄹ","ㅁ","ㄻ"],["ㄹ","ㅂ","ㄼ"],["ㄹ","ㅅ","ㄽ"],["ㄹ","ㅌ","ㄾ"],["ㄹ","ㅍ","ㄿ"],["ㄹ","ㅎ","ㅀ"],["ㅂ","ㅅ","ㅄ"]]),s=d([["ㅗ","ㅏ","ㅘ"],["ㅗ","ㅐ","ㅙ"],["ㅗ","ㅣ","ㅚ"],["ㅜ","ㅓ","ㅝ"],["ㅜ","ㅔ","ㅞ"],["ㅜ","ㅣ","ㅟ"],["ㅡ","ㅣ","ㅢ"]]);var w=function(e,t){if(null===e)throw new Error("Arguments cannot be null");"object"==typeof e&&(e=e.join(""));for(var i,s,h,d,m,C=[],y=e.length,w=0;w<y;w++){var x=[];v(d=e.charCodeAt(w))?(s=((d-=u)-(h=d%28))/28%21,i=parseInt((d-h)/28/21),x.push(c[i]),"object"==typeof l[s]?x=x.concat(l[s]):x.push(l[s]),h>0&&("object"==typeof a[h]?x=x.concat(a[h]):x.push(a[h]))):f(d)?"string"==typeof(m=p(d)?c[r[d]]:a[o[d]])?x.push(m):x=x.concat(m):g(d)?"string"==typeof(m=l[n[d]])?x.push(m):x=x.concat(m):x.push(e.charAt(w)),t?C.push(x):C=C.concat(x)}return C},x=function(e){return"string"!=typeof e?"":(e=w(e)).join("")},b=function(e){"string"==typeof e&&(e=w(e));var t,i,s=[],c=e.length,l=0,a=-1,h=!1;function d(t){var i,c,l,d,f=0,m="";if(h=!1,!(a+1>t))for(var v=1;;v++){if(1===v){if(g(i=e[a+v].charCodeAt(0)))return a+v+1<=t&&g(c=e[a+v+1].charCodeAt(0))?(s.push(String.fromCharCode(C(i,c))),void(a=t)):(s.push(e[a+v]),void(a=t));if(!p(i))return s.push(e[a+v]),void(a=t);m=e[a+v]}else if(2===v){if(p(c=e[a+v].charCodeAt(0)))return i=y(i,c),m=String.fromCharCode(i),s.push(m),void(a=t);m=String.fromCharCode(28*(21*r[i]+n[c])+u)}else 3===v?(C(c,l=e[a+v].charCodeAt(0))?c=C(c,l):f=l,m=String.fromCharCode(28*(21*r[i]+n[c])+o[f]+u)):4===v?(f=y(f,d=e[a+v].charCodeAt(0))?y(f,d):d,m=String.fromCharCode(28*(21*r[i]+n[c])+o[f]+u)):5===v&&(f=y(f,d=e[a+v].charCodeAt(0)),m=String.fromCharCode(28*(21*r[i]+n[c])+o[f]+u));if(a+v>=t)return s.push(m),void(a=t)}}for(var f=0;f<c;f++)p(t=e[f].charCodeAt(0))||g(t)||m(t)?(0===l?p(t)?l=1:g(t)&&(l=4):1==l?g(t)?l=2:y(i,t)?l=5:d(f-1):2==l?m(t)?l=3:g(t)?C(i,t)||(d(f-1),l=4):(d(f-1),l=1):3==l?m(t)?!h&&y(i,t)?h=!0:(d(f-1),l=1):p(t)?(d(f-1),l=1):g(t)&&(d(f-2),l=2):4==l?g(t)?C(i,t)?(d(f),l=0):d(f-1):(d(f-1),l=1):5==l&&(g(t)?(d(f-2),l=2):(d(f-1),l=1)),i=t):(d(f-1),d(f),l=0);return d(f-1),s.join("")};function k(e){this.string=e,this.disassembled=w(e).join("")}k.prototype.search=function(e){return w(e).join("").indexOf(this.disassembled)};var A={disassemble:w,d:w,disassembleToString:x,ds:x,assemble:b,a:b,search:function(e,t){var r=w(e).join(""),n=w(t).join("");return r.indexOf(n)},rangeSearch:function(e,t){var r,n=w(e).join(""),o=w(t).join(""),i=w(e,!0),s=new RegExp(o,"gi"),c=[];if(!t.length)return[];for(;r=s.exec(n);)c.push(r.index);function l(e){for(var t=0,r=0;t<i.length;++t)if(e<(r+=i[t].length))return t}function a(e){for(var t=0,r=0;t<i.length;++t)if(r+=i[t].length,e+o.length<=r)return t}return c.map((function(e){return[l(e),a(e)]}))},Searcher:k,endsWithConsonant:function(e){"object"==typeof e&&(e=e.join(""));var t=e.charCodeAt(e.length-1);if(v(t)){if((t-=u)%28>0)return!0}else if(f(t))return!0;return!1},endsWith:function(e,t){return w(e).pop()===t},isHangul:function(e){return"string"==typeof e&&(e=e.charCodeAt(0)),v(e)},isComplete:function(e){return"string"==typeof e&&(e=e.charCodeAt(0)),v(e)},isConsonant:function(e){return"string"==typeof e&&(e=e.charCodeAt(0)),f(e)},isVowel:function(e){return"string"==typeof e&&(e=e.charCodeAt(0)),g(e)},isCho:function(e){return"string"==typeof e&&(e=e.charCodeAt(0)),p(e)},isJong:function(e){return"string"==typeof e&&(e=e.charCodeAt(0)),m(e)},isHangulAll:function(e){if("string"!=typeof e)return!1;for(var t=0;t<e.length;t++)if(!v(e.charCodeAt(t)))return!1;return!0},isCompleteAll:function(e){if("string"!=typeof e)return!1;for(var t=0;t<e.length;t++)if(!v(e.charCodeAt(t)))return!1;return!0},isConsonantAll:function(e){if("string"!=typeof e)return!1;for(var t=0;t<e.length;t++)if(!f(e.charCodeAt(t)))return!1;return!0},isVowelAll:function(e){if("string"!=typeof e)return!1;for(var t=0;t<e.length;t++)if(!g(e.charCodeAt(t)))return!1;return!0},isChoAll:function(e){if("string"!=typeof e)return!1;for(var t=0;t<e.length;t++)if(!p(e.charCodeAt(t)))return!1;return!0},isJongAll:function(e){if("string"!=typeof e)return!1;for(var t=0;t<e.length;t++)if(!m(e.charCodeAt(t)))return!1;return!0}};"function"==typeof define&&define.amd?define((function(){return A})):e.exports=A}()})),n.register("iRxtk",(function(e,t){e.exports=new URL(n("27Lyk").resolve("34zlx"),import.meta.url).toString()})),n.register("aAcTQ",(function(e,r){t(e.exports,"render",(()=>y));var o=n("ecd4d");const i={class:"flex flex-col h-screen"},s={key:0,class:"flex flex-grow flex-col items-center mt-16 relative"},c={key:0,class:"chat"},l={class:"text-6xl font-black"},a={class:"flex mt-8 border-2 border-black"},u=["onClick"],h={key:1,class:"mt-8 text-4xl font-bold text-center"},d={key:2,class:"mt-8 text-4xl font-bold text-center"},f={key:4,class:"fixed left-0 top-0 w-full h-full flex justify-center items-center bg-black bg-opacity-50"},p={class:"p-8 bg-white flex flex-col items-center",style:{"min-width":"500px"}},g={class:"text-4xl"},m={class:"text-center text-6xl mt-8 font-bold"},v=(e=>(o.pushScopeId("data-v-324739"),e=e(),o.popScopeId(),e))((()=>o.createElementVNode("div",{class:"flex-grow"},null,-1))),C={class:"flex w-full justify-end p-4"};function y(e,t){const r=o.resolveComponent("Header");return o.openBlock(),o.createElementBlock("div",i,[o.createVNode(r),e.ready?(o.openBlock(),o.createElementBlock("div",s,[e.showChat?(o.openBlock(),o.createElementBlock("div",c,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(e.chat,(e=>(o.openBlock(),o.createElementBlock("div",{class:o.normalizeClass({correct:e.correct,item:!0})},[o.createElementVNode("span",null,o.toDisplayString(e.state["display-name"]??e.state.username),1),o.createElementVNode("span",null,o.toDisplayString(e.chat),1)],2)))),256))])):o.createCommentVNode("",!0),o.createElementVNode("div",l,o.toDisplayString(e.currentTurn+1)+" / "+o.toDisplayString(e.wordSet.length)+" 라운드 ",1),o.createElementVNode("div",a,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(Object.entries(e.currentWord.word.split("")),(([t,r])=>(o.openBlock(),o.createElementBlock("div",{class:"border border-4 border-black w-32 h-32 flex font-bold items-center justify-center text-8xl cursor-pointer",onClick:r=>e.showChar(parseInt(t))},o.toDisplayString(e.isAnswerVisible||e.shownChars.includes(parseInt(t))?r:e.getChosung(r)),9,u)))),256))]),e.hintLevel>=1?(o.openBlock(),o.createElementBlock("div",h,o.toDisplayString(e.currentWord.category?`주제: ${e.currentWord.category}`:e.currentWord.hint),1)):o.createCommentVNode("",!0),e.currentWord.category&&e.hintLevel>=2?(o.openBlock(),o.createElementBlock("div",d,o.toDisplayString(e.currentWord.hint),1)):o.createCommentVNode("",!0),(e.currentWord.category?e.hintLevel<=1:e.hintLevel<=0)?(o.openBlock(),o.createElementBlock("div",{key:3,onClick:t[0]||(t[0]=(...t)=>e.setShowHint&&e.setShowHint(...t)),class:"mt-8 text-3xl cursor-pointer"}," 클릭해서 힌트 보기 ")):o.createCommentVNode("",!0),e.matchedUser?(o.openBlock(),o.createElementBlock("div",f,[o.createElementVNode("div",p,[o.createElementVNode("div",g,o.toDisplayString(e.matchedUser.username)+" 정답!",1),o.createElementVNode("div",m,o.toDisplayString(e.currentWord.word),1),o.createElementVNode("div",{class:"border-2 text-center p-4 text-2xl mt-8 w-full cursor-pointer",onClick:t[1]||(t[1]=(...t)=>e.nextWord&&e.nextWord(...t))},o.toDisplayString(e.currentTurn+1===e.wordSet.length?"결과 보기":"다음"),1)])])):o.createCommentVNode("",!0),v,o.createElementVNode("div",C,[e.isAnswerVisible?(o.openBlock(),o.createElementBlock("div",{key:1,onClick:t[3]||(t[3]=(...t)=>e.nextWord&&e.nextWord(...t)),class:"bg-green-500 text-white py-4 px-6 rounded-lg cursor-pointer hover:brightness-90 transition-all active:brightness-75"},o.toDisplayString(e.currentTurn+1===e.wordSet.length?"결과 보기":"다음"),1)):(o.openBlock(),o.createElementBlock("div",{key:0,onClick:t[2]||(t[2]=(...t)=>e.showAnswer&&e.showAnswer(...t)),class:"bg-red-500 text-white py-4 px-6 rounded-lg cursor-pointer hover:brightness-90 transition-all active:brightness-75"}," 정답 보기 "))])])):o.createCommentVNode("",!0)])}})),n.register("95BcD",(function(e,r){t(e.exports,"default",(()=>n));var n=e=>{}}));
//# sourceMappingURL=Play.6eec7065.js.map
